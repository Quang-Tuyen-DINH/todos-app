<div class="task-container">
  <mat-card class="task-card">
    <div *ngIf="!modifiable">
      <mat-card-header>
        <mat-card-title>
          {{task.title}}
        </mat-card-title>
      </mat-card-header>
      <mat-card-content>
        {{task.content}}
      </mat-card-content>
    </div>
    <div *ngIf="modifiable">
      <form [formGroup]="taskForm" class="card-update-form">
        <mat-card-header>
          <mat-card-title>
            <mat-form-field>
              <mat-label>Title</mat-label>
              <input
                type="text"
                matInput
                placeholder="Title"
                formControlName="title"
                required
              />
              <mat-hint>A fabulous title Thomas!</mat-hint>
              <mat-error *ngIf="taskForm.hasError('title') && !taskForm.hasError('required')">
                Please enter the title
              </mat-error>
              <mat-error *ngIf="taskForm.hasError('required')">
                Title is <strong>required</strong>
              </mat-error>
            </mat-form-field>
          </mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <mat-form-field>
            <mat-label>Content</mat-label>
            <textarea
              type="text"
              matInput
              placeholder="Content"
              formControlName="content"
              required
            ></textarea>
            <mat-hint>Lorem ipsum Thomas!</mat-hint>
            <mat-error *ngIf="taskForm.hasError('content') && !taskForm.hasError('required')">
              Please fill the content
            </mat-error>
            <mat-error *ngIf="taskForm.hasError('required')">
              Content is <strong>required</strong>
            </mat-error>
          </mat-form-field>
        </mat-card-content>
      </form>
    </div>
    <mat-divider></mat-divider>
    <mat-card-actions>
      <button mat-button color="primary" *ngIf="!modifiable" (click)="modifiable = !modifiable">Modify</button>
      <button mat-button *ngIf="modifiable" (click)="modifiable = !modifiable">Cancel</button>
      <button mat-button color="primary" [disabled]="!modifiable" (click)="updateTask()">Update</button>
      <button mat-button color="warn" (click)="removeTask()">Remove</button>
    </mat-card-actions>
  </mat-card>
</div>